<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para mi amor</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        background: black;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        font-family: 'Georgia', serif;
    }

    /* ANIMACI√ìN del sobre cayendo */
    @keyframes drop {
        0% { transform: translateY(-300px); opacity: 0; }
        100% { transform: translateY(0); opacity: 1; }
    }

    #envelope-container {
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

#envelope {
    width: 260px;
    height: 180px;
    background: white;
    border: 4px solid black;
    border-radius: 8px;
    position: relative;
    cursor: pointer;
    animation: drop 1.5s ease-out;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden; /* Para que el tri√°ngulo se vea bien */
}

/* Solapa del sobre */
#flap {
    position: absolute;
    top: 0;
    width: 0;
    height: 0;
    border-left: 130px solid transparent;
    border-right: 130px solid transparent;
    border-bottom: 90px solid #ececec; /* color de la solapita */
    z-index: 1;
}

    #heart {
        font-size: 45px;
        color: red;
        transition: transform 0.4s;
      
    }
    #heart:hover {
        transform: scale(1.2);
    }

    /* CARTA */
    #letter {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) scale(0.8);
        width: 90%;
        max-width: 380px;
        background: #fdf7e2;
        padding: 22px;
        border-radius: 12px;
        border: 1px solid #c2b89b;
        box-shadow: 0 0 20px rgba(255,255,255,0.25);
        opacity: 0;
        display: none;
        text-align: left;
        font-size: 18px;
        line-height: 1.5;
        z-index: 10;
        transition: opacity 0.8s ease, transform 1s ease;
    }

    .prettyFont {
        font-family: "Georgia", serif;
        font-style: italic;
    }

    /* FLECHA */
    .flecha {
        position: absolute;
        bottom: 20px;
        right: 20px;
        font-size: 30px;
        color: #b30000;
        cursor: pointer;
        animation: latido 1.5s infinite;
        user-select: none;
    }

    @keyframes latido {
        0% { transform: scale(1); }
        50% { transform: scale(1.3); }
        100% { transform: scale(1); }
    }

    /* CORAZ√ìN DE HILO */
    #corazon-container {
        display: none;
        text-align: center;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    #corazon {
        width: 300px;
        margin: auto;
    }

    @keyframes dibujar {
        from { stroke-dashoffset: 600; }
        to { stroke-dashoffset: 0; }
    }

    .latido-texto {
        color: white;
        font-size: 24px;
        margin-top: 20px;
        opacity: 0;
        animation: aparecerTexto 2s forwards ease-out;
        animation-delay: 2.3s;
        font-family: "Courier New", monospace;
    }

    @keyframes aparecerTexto {
        from { opacity: 0; }
        to { opacity: 1; }
    }
</style>
</head>

<body>

<!-- üéµ M√öSICA 1 (carta) -->
<audio id="musicafondo" src="musica.mp3" autoplay loop></audio>

<!-- SOBRE -->
<div id="envelope-container">
    <div id="envelope">
        <div id="heart">‚ù§Ô∏è</div>
    </div>
</div>

<!-- CARTA -->
<div id="letter" class="prettyFont">
    Hola, amor de mi vida.<br><br>
    ¬°FELIZ CUMPLEEE!<br><br>
    Ac√°, otra vez tu novia, quer√≠a desearte lo mejor este d√≠a y siempre! &lt;3<br><br>
    Este es un d√≠a especial donde hace 21 a√±os naciste.<br><br>
    Naci√≥ un beb√© que ahora sigue siendo mi beb√© 
    y a la vez un hombre tan hermoso, gentil, cari√±oso, inteligente, y maduro para ciertas cosas ah jsjs, 
    mentiris.<br><br>
    Pero quiero que sepas una vez m√°s que te amo much√≠simo, con todo el alma, no ten√©s idea.<br><br>
    Loviuu ‚ù§Ô∏è
    
    <div class="flecha" onclick="mostrarCorazon()">‚ûú</div>
</div>

<!-- CORAZ√ìN DE HILO ROJO -->
<div id="corazon-container">
    <svg id="corazon" viewBox="0 0 200 200">
        <path id="trazo" d="M100 30
             C 20 0, 0 80, 100 150
             C 200 80, 180 0, 100 30"
             fill="none" stroke="#ff0000" stroke-width="4"
             stroke-linecap="round"/>
    </svg>

    <div class="latido-texto">Mi coraz√≥n late en tu lenguaje favorito. ‚ù§Ô∏è</div>
</div>

<script>
    const envelope = document.getElementById("envelope");
    const letter = document.getElementById("letter");

    const music1 = document.getElementById("music1");
    const music2 = document.getElementById("music2");

    envelope.addEventListener("click", () => {
        letter.style.display = "block";
        setTimeout(() => {
            letter.style.opacity = 1;
            letter.style.transform = "translate(-50%, -50%) scale(1)";
        }, 50);

        
    });

    function mostrarCorazon() {
        letter.style.display = "none";
        document.getElementById("envelope-container").style.display = "none";

        // Mostrar coraz√≥n
        const cont = document.getElementById("corazon-container");
        cont.style.display = "block";

        const path = document.getElementById("trazo");
        const len = path.getTotalLength();

        path.style.strokeDasharray = len;
        path.style.strokeDashoffset = len;
        path.style.animation = "dibujar 2s ease-out forwards";
    }

</script>

<script>
  const audio = document.getElementById("musicafondo");

  // Si el navegador bloquea el autoplay, lo activamos apenas el usuario hace clic
  document.addEventListener("click", () => {
    if (audio.paused) {
      audio.play().catch(() => {});
    }
  });
</script>

<script>
const audio = document.getElementById("musicafondo");

// Intento autom√°tico
audio.play().catch(() => {
    // Si falla, lo activamos con un clic
    document.addEventListener("click", () => {
        audio.play();
    }, { once: true });
});
</script>

</body>
</html>
